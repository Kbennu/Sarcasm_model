# **README: Сервис классификации сарказма**

## **Описание сервиса**
Данный сервис предоставляет возможность классификации текстовых заголовков на два класса:
1. **Sarcasm (сарказм):** Заголовок с саркастическим подтекстом.
2. **Not Sarcasm (не сарказм):** Заголовок без саркастического оттенка.

Сервис развернут с использованием **Streamlit** и может быть запущен локально или через контейнеризацию (**Podman**). 
Подходит для взаимодействия через веб-интерфейс или API.

---

## **Как запустить**

### **1. Локальный запуск**
1. Убедитесь, что установлен Python 3.10 или выше.
2. Установите необходимые зависимости:
   ***bash
   pip install -r requirements.txt
   
3. Запустите сервис:
   ***bash
   streamlit run script.py
   
4. Откройте в браузере: http://localhost:8501
   
---

### **2. Запуск через Podman**
1. **Соберите контейнер:**
   ***bash
   podman build -t sarcasm-detection-service .
   
2. **Запустите контейнер:**
   ***bash
   podman run -p 8501:8501 sarcasm-detection-service
   
3. Откройте сервис в браузере: http://localhost:8501

---

## **Использование**

### **1. Веб-интерфейс**
1. Откройте веб-страницу сервиса.
2. Введите текст заголовка в текстовое поле.
3. Нажмите "Enter"+"Ctrl" или или просто кликните на экран.
4. Результат:
   - Классификация текста (сарказм/не сарказм).
   - Вероятность принадлежности текста к соответствующему классу.

### **2. API**
Сервис поддерживает работу через API. Для предсказаний отправьте POST-запрос.

#### Пример запроса через cURL:
***bash
curl -X POST http://localhost:8501/predict -H "Content-Type: application/json" -d '{"headline": "This is an example headline"}'

#### Пример ответа:
***json
{
    "headline": "This is an example headline",
    "is_sarcastic": true,
    "probability": 0.95
}

---

## **Примеры использования**

1. **Через интерфейс:** 
   - Введите текст: "This weather is just perfect for a picnic."
   - Получите результат: **"Sarcasm"** с вероятностью 92%.

2. **Через API:**
   - Отправьте JSON-запрос (пример выше).
   - Получите JSON-ответ с предсказанием и вероятностью.

---

## **Технические требования**
- **Платформа:** Локально или в контейнере Podman.
- **Порты:** Убедитесь, что порт **8501** доступен.
- **Зависимости:** Установлены через requirements.txt.

---

## **Рекомендации**
- Для стабильной работы убедитесь, что файлы модели и токенизатора находятся в папке проекта:
  - HybridModel_state_dict.pth
  - HybridTokenizer
- Если используете Podman, убедитесь, что порт не занят другими сервисами.

---

## **Заключение**
Сервис позволяет быстро классифицировать текстовые заголовки на саркастические и несаркастические, предоставляя как веб-интерфейс, так и API для интеграции. 
Легко разворачивается локально или через контейнеры.
